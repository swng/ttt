/*========================================================================================
 ï¿½ï¿½ï¿½ï¿½ data.js ï¿½ï¿½ï¿½ï¿½
========================================================================================*/
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½è”ï¿½ê—— ï¿½ï¿½ï¿½ï¿½
----------------------------------------------------------------------------------------*/
var MATRIX_WIDTH = 10;               // ï¿½}ï¿½gï¿½ï¿½ï¿½bï¿½Nï¿½Xï¿½Ì‰ï¿½ï¿½uï¿½ï¿½ï¿½bï¿½Nï¿½ï¿½
var DEADLINE_HEIGHT = 3;             // ï¿½fï¿½bï¿½hï¿½ï¿½ï¿½Cï¿½ï¿½ï¿½Èï¿½Åƒuï¿½ï¿½ï¿½bï¿½Nï¿½Ìï¿½ï¿½ï¿½Ûï¿½ï¿½ï¿½ï¿½é‚ï¿½ï¿½
var MATRIX_HEIGHT = 23;              // ï¿½}ï¿½gï¿½ï¿½ï¿½bï¿½Nï¿½Xï¿½Ìcï¿½uï¿½ï¿½ï¿½bï¿½Nï¿½ï¿½ï¿½Bï¿½fï¿½bï¿½hï¿½ï¿½ï¿½Cï¿½ï¿½ï¿½Èï¿½ï¿½ï¿½Ü‚ï¿½
var SOFT_DROP_SPAN = 1;              // <ï¿½tï¿½ï¿½ï¿½[ï¿½ï¿½> ï¿½\ï¿½tï¿½gï¿½hï¿½ï¿½ï¿½bï¿½vï¿½ï¿½ 1 ï¿½}ï¿½Xï¿½iï¿½Ş‚Ü‚Å‚Ìï¿½ï¿½ï¿½
var NATURAL_DROP_SPAN = 36;          // <ï¿½tï¿½ï¿½ï¿½[ï¿½ï¿½> ï¿½ï¿½ï¿½Rï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ 1 ï¿½}ï¿½Xï¿½iï¿½Ş‚Ü‚Å‚Ìï¿½ï¿½ï¿½
var LINE_CLEAR_DURATION = 15;        // <ï¿½tï¿½ï¿½ï¿½[ï¿½ï¿½> ï¿½ï¿½ï¿½Cï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½oï¿½Ìï¿½ï¿½ï¿½
var DISPLAY_FEATURES_DURATION = 45;  // <ï¿½tï¿½ï¿½ï¿½[ï¿½ï¿½> ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Zï¿½Ì•\ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
var NEXT_MINOS = 5;                  // ï¿½lï¿½Nï¿½Xï¿½gï¿½\ï¿½ï¿½ï¿½ï¿½
var ROTATE_RULES = 5;                // ï¿½ï¿½]ï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½
var HORIZONTAL_CHARGE_DURATION = 7;  // <ï¿½tï¿½ï¿½ï¿½[ï¿½ï¿½> ï¿½Lï¿½[ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½nï¿½ß‚Ä‚ï¿½ï¿½ç‰¡ï¿½Ú“ï¿½ï¿½ï¿½ï¿½sï¿½[ï¿½gï¿½Jï¿½nï¿½Ü‚Å‚Ìï¿½ï¿½ï¿½
var HORIZONTAL_REPEAT_SPAN = 1;      // <ï¿½tï¿½ï¿½ï¿½[ï¿½ï¿½> ï¿½ï¿½ï¿½Ú“ï¿½ï¿½Ìï¿½ï¿½ÔŠï¿½ï¿½o

var INITIAL_DIR = 0;                  // ï¿½oï¿½ï¿½ï¿½ï¿½ï¿½Ìƒ~ï¿½mï¿½ÌŒï¿½ï¿½ï¿½
var INITIAL_X = 3;                    // ï¿½oï¿½ï¿½ï¿½ï¿½ï¿½Ìƒ~ï¿½mï¿½ï¿½ X ï¿½ï¿½ï¿½W
var INITIAL_Y = DEADLINE_HEIGHT - 2;  // ï¿½oï¿½ï¿½ï¿½ï¿½ï¿½Ìƒ~ï¿½mï¿½ï¿½ Y ï¿½ï¿½ï¿½W

var DEFAULT_KEY_MOVE_LEFT    = 'Left';
var DEFAULT_KEY_MOVE_RIGHT   = 'Right';
var DEFAULT_KEY_SOFTDROP     = 'Down';
var DEFAULT_KEY_HARDDROP     = 'Space';
var DEFAULT_KEY_ROTATE_RIGHT = 'X';
var DEFAULT_KEY_ROTATE_LEFT  = 'Z';
/*
// ï¿½ï¿½ï¿½È‚ï¿½ï¿½ï¿½ï¿½ÌƒLï¿½[ï¿½zï¿½u
var DEFAULT_KEY_MOVE_LEFT    = 'S';
var DEFAULT_KEY_MOVE_RIGHT   = 'F';
var DEFAULT_KEY_SOFTDROP     = 'C';
var DEFAULT_KEY_HARDDROP     = 'D';
var DEFAULT_KEY_ROTATE_RIGHT = 'L';
var DEFAULT_KEY_ROTATE_LEFT  = 'J';
*/
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½}ï¿½gï¿½ï¿½ï¿½bï¿½Nï¿½Xï¿½zï¿½ï¿½  [y][x] ï¿½ï¿½ï¿½ï¿½

 ï¿½İ’uï¿½Ïƒuï¿½ï¿½ï¿½bï¿½Nï¿½Ì”zï¿½ï¿½Å‚ï¿½ï¿½Bï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ìƒuï¿½ï¿½ï¿½bï¿½Nï¿½ï¿½ï¿½Í•Ê‚ÉŠÇ—ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B
----------------------------------------------------------------------------------------*/
var gMatrix = [];
for(var i = 0; i < MATRIX_HEIGHT; i++){
  gMatrix.push([]);
  for(var j = 0; j < MATRIX_WIDTH; j++){
    gMatrix[i].push(0);
  }
}
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½Iï¿½uï¿½Wï¿½Fï¿½Nï¿½g: ï¿½eï¿½ï¿½uï¿½ï¿½ï¿½bï¿½N ï¿½ï¿½ï¿½ï¿½
----------------------------------------------------------------------------------------*/
function Block(id){
  this.id = id;
  this.toVanish = (id == 2);           // ï¿½ï¿½ï¿½ï¿½ï¿½\ï¿½ñ‚³‚ï¿½Ä‚ï¿½ï¿½ï¿½uï¿½ï¿½ï¿½bï¿½N?

  switch(id){
  case 0:  // ï¿½ï¿½
    this.passable = true;    // ï¿½ï¿½ï¿½è”²ï¿½ï¿½ï¿½Â”\?
    break;
  case 1:  // ï¿½Dï¿½Fï¿½uï¿½ï¿½ï¿½bï¿½N
    this.passable = false;
    break;
  case 2:  // ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½oï¿½ï¿½ï¿½Ìƒuï¿½ï¿½ï¿½bï¿½Nï¿½BRemoveReservedLines ï¿½Åˆï¿½Äï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
    this.passable = true;
    break;
  // ï¿½İ’uï¿½Ï‚ÌŠeï¿½uï¿½ï¿½ï¿½bï¿½N
  case 21: case 22: case 23: case 24: case 25: case 26: case 27:
    this.passable = false;
    break;
  // ï¿½ï¿½ï¿½Ì‘ï¿½ï¿½ÌŠeï¿½uï¿½ï¿½ï¿½bï¿½N
  case 11: case 12: case 13: case 14: case 15: case 16: case 17:
  case 31: case 32: case 33: case 34: case 35: case 36: case 37:
  case 41: case 42: case 43: case 44: case 45: case 46: case 47:
  case 51: case 52: case 53: case 54: case 55: case 56: case 57:
    this.passable = false;
    break;
  // ï¿½ï¿½ï¿½Ì‘ï¿½ï¿½Ì”Ôï¿½(ï¿½ï¿½ï¿½İ‚ï¿½ï¿½È‚ï¿½ï¿½uï¿½ï¿½ï¿½bï¿½N)ï¿½È‚ï¿½æ‘œï¿½ÌƒLï¿½ï¿½ï¿½bï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½È‚ï¿½
  default:
    this.passable = false;
    return;
  }

  this.image = 'img/b' + id + '.png';  // ï¿½æ‘œï¿½B24 x 24 ï¿½sï¿½Nï¿½Zï¿½ï¿½
  this.cache = new Image();
  this.cache.src = this.image;
}
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½uï¿½ï¿½ï¿½bï¿½Nï¿½Iï¿½uï¿½Wï¿½Fï¿½Nï¿½gï¿½Ö‚ÌƒAï¿½Nï¿½Zï¿½X ï¿½ï¿½ï¿½ï¿½
----------------------------------------------------------------------------------------*/
var gBlocks = [];
for(var i = 0; i <= 57; i++) gBlocks.push(new Block(i));
function BlkEmpty(){return gBlocks[0] }
function BlkVanishing(){return gBlocks[2] }
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½Iï¿½uï¿½Wï¿½Fï¿½Nï¿½g: ï¿½ï¿½Ê“Iï¿½È‰ï¿½]ï¿½ï¿½ï¿½[ï¿½ï¿½ (ROTation RULE - GENeral) ï¿½ï¿½ï¿½ï¿½
----------------------------------------------------------------------------------------*/
function RotRuleGen(){
  // [ï¿½ï¿½]ï¿½ï¿½ï¿½ï¿½(0=ï¿½E, 1=ï¿½ï¿½)][ï¿½ï¿½]ï¿½Oï¿½Ìƒ~ï¿½mï¿½ÌŒï¿½ï¿½ï¿½(0=ï¿½oï¿½ï¿½ï¿½ï¿½, 1=ï¿½E, 2=ï¿½t, 3=ï¿½ï¿½)][ï¿½ï¿½ï¿½[ï¿½ï¿½ ID ]
  this.dx = [[[0, -1, -1,  0, -1],    // i ï¿½ï¿½ r
              [0,  1,  1,  0,  1],    // r ï¿½ï¿½ v
              [0,  1,  1,  0,  1],    // v ï¿½ï¿½ l
              [0, -1, -1,  0, -1]],   // l ï¿½ï¿½ i
             [[0,  1,  1,  0,  1],    // i ï¿½ï¿½ l
              [0,  1,  1,  0,  1],    // r ï¿½ï¿½ i
              [0, -1, -1,  0, -1],    // v ï¿½ï¿½ r
              [0, -1, -1,  0, -1]]];  // l ï¿½ï¿½ v
  this.dy = [[[0,  0, -1,  2,  2],    // i ï¿½ï¿½ r
              [0,  0,  1, -2, -2],    // r ï¿½ï¿½ v
              [0,  0, -1,  2,  2],    // v ï¿½ï¿½ l
              [0,  0,  1, -2, -2]],   // l ï¿½ï¿½ i
             [[0,  0, -1,  2,  2],    // i ï¿½ï¿½ l
              [0,  0,  1, -2, -2],    // r ï¿½ï¿½ i
              [0,  0, -1,  2,  2],    // v ï¿½ï¿½ r
              [0,  0,  1, -2, -2]]];  // l ï¿½ï¿½ v
  return this;
}
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½Iï¿½uï¿½Wï¿½Fï¿½Nï¿½g: I ï¿½~ï¿½mï¿½Ì‰ï¿½]ï¿½ï¿½ï¿½[ï¿½ï¿½ (ROTation RULE - I) ï¿½ï¿½ï¿½ï¿½
----------------------------------------------------------------------------------------*/
function RotRuleI(){
  // [ï¿½ï¿½]ï¿½ï¿½ï¿½ï¿½(0=ï¿½E, 1=ï¿½ï¿½)][ï¿½ï¿½]ï¿½Oï¿½Ìƒ~ï¿½mï¿½ÌŒï¿½ï¿½ï¿½(0=ï¿½oï¿½ï¿½ï¿½ï¿½, 1=ï¿½E, 2=ï¿½t, 3=ï¿½ï¿½)][ï¿½ï¿½ï¿½[ï¿½ï¿½ ID ]
  this.dx = [[[0, -2,  1, -2,  1],    // i ï¿½ï¿½ r
              [0, -1,  2, -1,  2],    // r ï¿½ï¿½ v
              [0,  2, -1,  2, -1],    // v ï¿½ï¿½ l
              [0,  1, -2,  1, -2]],   // l ï¿½ï¿½ i
             [[0, -1,  2, -1,  2],    // i ï¿½ï¿½ l
              [0,  2, -1,  2, -1],    // r ï¿½ï¿½ i
              [0,  1, -2,  1, -2],    // v ï¿½ï¿½ r
              [0, -2,  1, -2,  1]]];  // l ï¿½ï¿½ v
  this.dy = [[[0,  0,  0,  1, -2],    // i ï¿½ï¿½ r
              [0,  0,  0, -2,  1],    // r ï¿½ï¿½ v
              [0,  0,  0, -1,  2],    // v ï¿½ï¿½ l
              [0,  0,  0,  2, -1]],   // l ï¿½ï¿½ i
             [[0,  0,  0, -2,  1],    // i ï¿½ï¿½ l
              [0,  0,  0, -1,  2],    // r ï¿½ï¿½ i
              [0,  0,  0,  2, -1],    // v ï¿½ï¿½ r
              [0,  0,  0,  1, -2]]];  // l ï¿½ï¿½ v
  return this;
}
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½eï¿½ï¿½]ï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½Ö‚ÌƒAï¿½Nï¿½Zï¿½Xï¿½İ’ï¿½ ï¿½ï¿½ï¿½ï¿½
----------------------------------------------------------------------------------------*/
var gRotationRuleGeneral = new RotRuleGen();
var gRotationRuleI = new RotRuleI();
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½Iï¿½uï¿½Wï¿½Fï¿½Nï¿½g: ï¿½eï¿½ï¿½~ï¿½m ï¿½ï¿½ï¿½ï¿½
----------------------------------------------------------------------------------------*/
function IMino(){
  this.id = 1;
  // [ï¿½~ï¿½mï¿½ÌŒï¿½ï¿½ï¿½(0=ï¿½oï¿½ï¿½ï¿½ï¿½, 1=ï¿½E, 2=ï¿½t, 3=ï¿½ï¿½)][ Y ï¿½ï¿½ï¿½W][ X ï¿½ï¿½ï¿½W]
  this.shape = [[[0, 0, 0, 0],
                 [1, 1, 1, 1], 
                 [0, 0, 0, 0], 
                 [0, 0, 0, 0]],

                [[0, 0, 1, 0], 
                 [0, 0, 1, 0], 
                 [0, 0, 1, 0], 
                 [0, 0, 1, 0]],

                [[0, 0, 0, 0], 
                 [0, 0, 0, 0],
                 [1, 1, 1, 1],
                 [0, 0, 0, 0]],

                [[0, 1, 0, 0], 
                 [0, 1, 0, 0], 
                 [0, 1, 0, 0], 
                 [0, 1, 0, 0]]];
  this.activeBlockId = 11;
  this.placedBlockId = 21;
  this.ghostBlockId  = 31;
  this.guideBlockId  = 41;
  this.ghostGuideBlockId = 51;
  this.rotationRule = gRotationRuleI;
  return this;
}
//----------------------------------------------------------------------------------------
function TMino(){
  this.id = 2;
  // [ï¿½~ï¿½mï¿½ÌŒï¿½ï¿½ï¿½(0=ï¿½oï¿½ï¿½ï¿½ï¿½, 1=ï¿½E, 2=ï¿½t, 3=ï¿½ï¿½)][ Y ï¿½ï¿½ï¿½W][ X ï¿½ï¿½ï¿½W]
  this.shape = [[[0, 1, 0, 0],
                 [1, 1, 1, 0],
                 [0, 0, 0, 0],
                 [0, 0, 0, 0]],

                [[0, 1, 0, 0],
                 [0, 1, 1, 0],
                 [0, 1, 0, 0],
                 [0, 0, 0, 0]],

                [[0, 0, 0, 0],
                 [1, 1, 1, 0],
                 [0, 1, 0, 0],
                 [0, 0, 0, 0]],

                [[0, 1, 0, 0],
                 [1, 1, 0, 0],
                 [0, 1, 0, 0],
                 [0, 0, 0, 0]]];
  this.activeBlockId = 12;
  this.placedBlockId = 22;
  this.ghostBlockId  = 32;
  this.guideBlockId  = 42;
  this.ghostGuideBlockId = 52;
  this.rotationRule = gRotationRuleGeneral;
  return this;
}
//----------------------------------------------------------------------------------------
function JMino(){
  this.id = 3;
  // [ï¿½~ï¿½mï¿½ÌŒï¿½ï¿½ï¿½(0=ï¿½oï¿½ï¿½ï¿½ï¿½, 1=ï¿½E, 2=ï¿½t, 3=ï¿½ï¿½)][ Y ï¿½ï¿½ï¿½W][ X ï¿½ï¿½ï¿½W]
  this.shape = [[[1, 0, 0, 0],
                 [1, 1, 1, 0],
                 [0, 0, 0, 0],
                 [0, 0, 0, 0]],

                [[0, 1, 1, 0],
                 [0, 1, 0, 0],
                 [0, 1, 0, 0],
                 [0, 0, 0, 0]],

                [[0, 0, 0, 0],
                 [1, 1, 1, 0],
                 [0, 0, 1, 0],
                 [0, 0, 0, 0]],

                [[0, 1, 0, 0],
                 [0, 1, 0, 0],
                 [1, 1, 0, 0],
                 [0, 0, 0, 0]]];
  this.activeBlockId = 13;
  this.placedBlockId = 23;
  this.ghostBlockId  = 33;
  this.guideBlockId  = 43;
  this.ghostGuideBlockId = 53;
  this.rotationRule = gRotationRuleGeneral;
  return this;
}
//----------------------------------------------------------------------------------------
function LMino(){
  this.id = 4;
  // [ï¿½~ï¿½mï¿½ÌŒï¿½ï¿½ï¿½(0=ï¿½oï¿½ï¿½ï¿½ï¿½, 1=ï¿½E, 2=ï¿½t, 3=ï¿½ï¿½)][ Y ï¿½ï¿½ï¿½W][ X ï¿½ï¿½ï¿½W]
  this.shape = [[[0, 0, 1, 0],
                 [1, 1, 1, 0],
                 [0, 0, 0, 0],
                 [0, 0, 0, 0]],

                [[0, 1, 0, 0],
                 [0, 1, 0, 0],
                 [0, 1, 1, 0],
                 [0, 0, 0, 0]],

                [[0, 0, 0, 0],
                 [1, 1, 1, 0],
                 [1, 0, 0, 0],
                 [0, 0, 0, 0]],

                [[1, 1, 0, 0],
                 [0, 1, 0, 0],
                 [0, 1, 0, 0],
                 [0, 0, 0, 0]]];
  this.activeBlockId = 14;
  this.placedBlockId = 24;
  this.ghostBlockId  = 34;
  this.guideBlockId  = 44;
  this.ghostGuideBlockId = 54;
  this.rotationRule = gRotationRuleGeneral;
  return this;
}
//----------------------------------------------------------------------------------------
function ZMino(){
  this.id = 5;
  // [ï¿½~ï¿½mï¿½ÌŒï¿½ï¿½ï¿½(0=ï¿½oï¿½ï¿½ï¿½ï¿½, 1=ï¿½E, 2=ï¿½t, 3=ï¿½ï¿½)][ Y ï¿½ï¿½ï¿½W][ X ï¿½ï¿½ï¿½W]
  this.shape = [[[1, 1, 0, 0],
                 [0, 1, 1, 0],
                 [0, 0, 0, 0],
                 [0, 0, 0, 0]],

                [[0, 0, 1, 0],
                 [0, 1, 1, 0],
                 [0, 1, 0, 0],
                 [0, 0, 0, 0]],

                [[0, 0, 0, 0],
                 [1, 1, 0, 0],
                 [0, 1, 1, 0],
                 [0, 0, 0, 0]],

                [[0, 1, 0, 0],
                 [1, 1, 0, 0],
                 [1, 0, 0, 0],
                 [0, 0, 0, 0]]];
  this.activeBlockId = 15;
  this.placedBlockId = 25;
  this.ghostBlockId  = 35;
  this.guideBlockId  = 45;
  this.ghostGuideBlockId = 55;
  this.rotationRule = gRotationRuleGeneral;
  return this;
}
//----------------------------------------------------------------------------------------
function SMino(){
  this.id = 6;
  // [ï¿½~ï¿½mï¿½ÌŒï¿½ï¿½ï¿½(0=ï¿½oï¿½ï¿½ï¿½ï¿½, 1=ï¿½E, 2=ï¿½t, 3=ï¿½ï¿½)][ Y ï¿½ï¿½ï¿½W][ X ï¿½ï¿½ï¿½W]
  this.shape = [[[0, 1, 1, 0],
                 [1, 1, 0, 0],
                 [0, 0, 0, 0],
                 [0, 0, 0, 0]],

                [[0, 1, 0, 0],
                 [0, 1, 1, 0],
                 [0, 0, 1, 0],
                 [0, 0, 0, 0]],

                [[0, 0, 0, 0],
                 [0, 1, 1, 0],
                 [1, 1, 0, 0],
                 [0, 0, 0, 0]],

                [[1, 0, 0, 0],
                 [1, 1, 0, 0],
                 [0, 1, 0, 0],
                 [0, 0, 0, 0]]];
  this.activeBlockId = 16;
  this.placedBlockId = 26;
  this.ghostBlockId  = 36;
  this.guideBlockId  = 46;
  this.ghostGuideBlockId = 56;
  this.rotationRule = gRotationRuleGeneral;
  return this;
}
//----------------------------------------------------------------------------------------
function OMino(){
  this.id = 7;
  // [ï¿½~ï¿½mï¿½ÌŒï¿½ï¿½ï¿½(0=ï¿½oï¿½ï¿½ï¿½ï¿½, 1=ï¿½E, 2=ï¿½t, 3=ï¿½ï¿½)][ Y ï¿½ï¿½ï¿½W][ X ï¿½ï¿½ï¿½W]
  this.shape = [[[0, 1, 1, 0],
                 [0, 1, 1, 0],
                 [0, 0, 0, 0],
                 [0, 0, 0, 0]],

                [[0, 1, 1, 0],
                 [0, 1, 1, 0],
                 [0, 0, 0, 0],
                 [0, 0, 0, 0]],

                [[0, 1, 1, 0],
                 [0, 1, 1, 0],
                 [0, 0, 0, 0],
                 [0, 0, 0, 0]],

                [[0, 1, 1, 0],
                 [0, 1, 1, 0],
                 [0, 0, 0, 0],
                 [0, 0, 0, 0]]];
  this.activeBlockId = 17;
  this.placedBlockId = 27;
  this.ghostBlockId  = 37;
  this.guideBlockId  = 47;
  this.ghostGuideBlockId = 57;
  this.rotationRule = gRotationRuleGeneral;  // ï¿½Kï¿½vï¿½È‚ï¿½ï¿½Å‚ï¿½ï¿½ï¿½ï¿½Ö‹Xï¿½ï¿½
  return this;
}
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ T-SPIN ï¿½ï¿½ï¿½ï¿½É—pï¿½ï¿½ï¿½ï¿½uï¿½ï¿½ï¿½bï¿½Nï¿½Ê’u ï¿½ï¿½ï¿½ï¿½

 ttt.js ï¿½ï¿½ TsType ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚Ñoï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B[dir][y][x]
 1 ï¿½É‚È‚ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½êŠ(ï¿½e 4 ï¿½Óï¿½)ï¿½Ì‚ï¿½ï¿½ï¿½ 3 ï¿½Óï¿½ï¿½Èã‚ªï¿½Ê‰ß•sï¿½Â‚È‚ï¿½ï¿½ T-SPIN ï¿½Æ”ï¿½ï¿½è‚³ï¿½ï¿½Ü‚ï¿½ï¿½B
----------------------------------------------------------------------------------------*/
var gTsTiles = [[[1, 0, 1, 0],
                 [0, 0, 0, 0],
                 [1, 0, 1, 0],
                 [0, 0, 0, 0]],
                [[1, 0, 1, 0],
                 [0, 0, 0, 0],
                 [1, 0, 1, 0],
                 [0, 0, 0, 0]],
                [[1, 0, 1, 0],
                 [0, 0, 0, 0],
                 [1, 0, 1, 0],
                 [0, 0, 0, 0]],
                [[1, 0, 1, 0],
                 [0, 0, 0, 0],
                 [1, 0, 1, 0],
                 [0, 0, 0, 0]]];
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ T-SPIN MINI ï¿½ï¿½ï¿½ï¿½É—pï¿½ï¿½ï¿½ï¿½uï¿½ï¿½ï¿½bï¿½Nï¿½Ê’u ï¿½ï¿½ï¿½ï¿½

 ttt.js ï¿½ï¿½ TsType ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚Ñoï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B[dir][y][x]
//----------------------------------------------------------------------------------------
 T-SPIN ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½ê‡ï¿½Aï¿½ï¿½ï¿½ê‚ªï¿½Êï¿½ï¿½ T-SPIN ï¿½ï¿½ï¿½Aï¿½ï¿½ï¿½é‚¢ï¿½ï¿½ T-SPIN MINI ï¿½ï¿½ï¿½ğ”»’è‚µï¿½Ü‚ï¿½ï¿½B
 1 ï¿½É‚È‚ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½êŠ(ï¿½e 2 ï¿½Óï¿½)ï¿½ï¿½ 2 ï¿½Óï¿½ï¿½Æ‚ï¿½ï¿½Ê‰ß•sï¿½Â‚È‚ï¿½ï¿½ T-SPIN ï¿½ÉAï¿½ï¿½ï¿½ï¿½ï¿½Å‚È‚ï¿½ï¿½ï¿½ï¿½ T-SPIN
 MINI ï¿½Æ”ï¿½ï¿½è‚³ï¿½ï¿½Ü‚ï¿½ï¿½Bï¿½ï¿½Oï¿½Iï¿½ÉAï¿½ï¿½ï¿½Oï¿½É‘ï¿½ 5 ï¿½ï¿½ï¿½Ì‰ï¿½]ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ê‡ï¿½ï¿½ T-SPIN MINI ï¿½É‚È‚ï¿½È‚ï¿½ï¿½ï¿½
 ï¿½ï¿½Ü‚ï¿½( TST ï¿½ï¿½ï¿½Ì‰ï¿½]ï¿½ï¿½u T-SPIN FIN ï¿½vï¿½ï¿½)ï¿½B
----------------------------------------------------------------------------------------*/
var gTssTiles = [[[1, 0, 1, 0],
                  [0, 0, 0, 0],
                  [0, 0, 0, 0],
                  [0, 0, 0, 0]],
                 [[0, 0, 1, 0],
                  [0, 0, 0, 0],
                  [0, 0, 1, 0],
                  [0, 0, 0, 0]],
                 [[0, 0, 0, 0],
                  [0, 0, 0, 0],
                  [1, 0, 1, 0],
                  [0, 0, 0, 0]],
                 [[1, 0, 0, 0],
                  [0, 0, 0, 0],
                  [1, 0, 0, 0],
                  [0, 0, 0, 0]]];
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½eï¿½~ï¿½mï¿½Ö‚ÌƒAï¿½Nï¿½Zï¿½Xï¿½İ’ï¿½ ï¿½ï¿½ï¿½ï¿½
----------------------------------------------------------------------------------------*/
var I = new IMino();
var T = new TMino();
var J = new JMino();
var L = new LMino();
var Z = new ZMino();
var S = new SMino();
var O = new OMino();
var gMino = [null, I, T, J, L, Z, S, O];
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½Iï¿½uï¿½Wï¿½Fï¿½Nï¿½g: ï¿½Kï¿½Cï¿½h ï¿½ï¿½ï¿½ï¿½

 ï¿½~ï¿½mï¿½Íï¿½ï¿½ï¿½ï¿½Iï¿½Éï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½ï¿½ï¿½Ì‚ï¿½ï¿½Iï¿½Î‚ï¿½Ü‚ï¿½ï¿½B
----------------------------------------------------------------------------------------*/
function Guide(dir, x, y){
  this.dir = dir;
  this.x = x;
  this.y = y;  // ï¿½fï¿½bï¿½hï¿½ï¿½ï¿½Cï¿½ï¿½ï¿½Ì•ï¿½ï¿½ÍŠÜ‚ß‚È‚ï¿½
}
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½Kï¿½Cï¿½hï¿½Iï¿½uï¿½Wï¿½Fï¿½Nï¿½gï¿½ï¿½ï¿½ï¿½ï¿½ÌŠÈ—ï¿½ï¿½\ï¿½L ï¿½ï¿½ï¿½ï¿½
----------------------------------------------------------------------------------------*/
function G(dir, x, y){
  return new Guide(dir, x, y);
}
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½Zï¿½Nï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ìæ“¾ ï¿½ï¿½ï¿½ï¿½

 <id>ï¿½Ô–Ú‚ÌƒZï¿½Nï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ“¾ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½Bï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ÒWï¿½ï¿½ï¿½ï¿½ï¿½ê‡ï¿½ÍAï¿½Yï¿½ê‚¸ï¿½ï¿½ index.html ï¿½É‚ï¿½ï¿½ï¿½ï¿½fï¿½ï¿½
 ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½B
----------------------------------------------------------------------------------------*/
function SectionTitle(id){
  switch(id){
  case  0: return '1 Warm up with TETRIS (4 rows erased)'; break;
  case  1: return '2 Before T-SPIN, a lecture on how to use T-Mino properly'; break;
  case  2: return '3 TSD with T-shaped hole'; break;
  case  3: return '4 TSD with series holes'; break;
  case  4: return '5 TSD with series holes [no guide]'; break;
  case  5: return '6 ã€ŒEquilibrium techniqueã€ (Loading type)'; break;
  case  6: return '7 ã€ŒEquilibrium techniqueã€ (Loading type) [No Guide]'; break;
  case  7: return '8 Small tricks TSM (T spin mini) '; break;
  case  8: return '9 Maximum attack power! TST (T spin triple)'; break;
  case  9: return '10 Assemble the TST'; break;
  case 10: return '11 Popular Openers'; break;
  case 11: return '12 Shaving'; break;
  case 12: return '13 Digging'; break;
  case 13: return '14 J / L Spins (SRS. Super Rotation System)'; break;
  case 14: return '15 S / Z Spins'; break;
  case 15: return '16 I Spins and New T-SPINs (Iso Neo Fin)'; break;
  case 16: return '17 SRS Practice'; break;
  case 17: return '18 SRS Practice [No Guide]'; break;
  case 18: return '19 Mid-term test'; break;
  case 19: return '20 Finesee Movement optimization (OITJL)'; break;
  case 20: return '21 Finesse Movement optimization (SZ)'; break;
  case 21: return '22 Various T-SPIN techniques & Openers (2)'; break;
  case 22: return '23 ã€ŒEquilibrium techniqueã€(shaving type)'; break;
  case 23: return '24 ã€ŒDonationã€'; break;
  case 24: return '25 ã€ŒuDonationã€ [No guide]'; break;
  case 25: return '26 Prophecy T-spins'; break;
  case 26: return '27 Prophecy T-spins [No guide]'; break;
  case 27: return '28 Final test'; break;
  case 28: return '29 Graduation test (difficult problems)'; break;
  case 29: return '30 Bonus'; break;
  }
  return "ï¼Ÿ";
}
